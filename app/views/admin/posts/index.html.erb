<% provide :web_title, "管理公告" %>
<div class="container" style="padding: 20px;margin-top: 60px;">
	<%= link_to '<i class="fas fa-plus fa-fw"></i>'.html_safe, new_admin_classroom_post_path(@classroom), id: "newpostbtn"%>
	<% @posts.each do |post| %>
		<div class="uk-card uk-card-default uk-card-body uk-width-1-2@m" style="margin-bottom: 20px;">
			<div style="display: flex;">
				<img src="<%= post.user.try(:uimg)%>" height="40px" width="40px" style="border-radius: 50%;margin-right: 10px;">
				<span style="line-height: 19px;">
					<%= post.user.try(:uname)[-3..-1] %><br>
					<%= post.created_at.to_s.split("+").first %>
				</span>
			</div>
			<div id="postcontent">
				<%= raw(post['content']) %>
			</div>
			<%= link_to '查看更多....', admin_classroom_post_path(@classroom,post)%>
		</div>
	<% end %>
</div>

<script>hljs.initHighlightingOnLoad();</script>

<style>
	#postcontent{
		margin-top: 20px;
		max-height: 250px;
		overflow: scroll;
	}
	::-webkit-scrollbar {
		width: 5px;
	}
	::-webkit-scrollbar-track {
		-webkit-border-radius: 10px;
		border-radius: 10px;
		margin:80px 0 5px 0;
	}
	::-webkit-scrollbar-thumb {
		-webkit-border-radius: 4px;
		border-radius: 4px;
		background: rgb(219,219,219);
	}
	#postcontent img{
		width: 100%;
		height: 100%;
	}
	#newpostbtn{
		position: fixed;
	    left: -5px;
	    background-color: #007bff;
	    color: #FFF;
	    height: 35px;
	    width: 40px;
	    border-radius: 0 10px 10px 0;
	    z-index: 3;
	    text-align: center;
	    font-size: 22px;
	    transition: 0.3s;
	}
	#newpostbtn:hover{
		left: 0;
	}

</style>